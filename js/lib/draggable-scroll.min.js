!function s(i,n,l){function a(r,t){if(!n[r]){if(!i[r]){var e="function"==typeof require&&require;if(!t&&e)return e(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+r+"'")}var o=n[r]={exports:{}};i[r][0].call(o.exports,function(t){var e=i[r][1][t];return a(e||t)},o,o.exports,s,i,n,l)}return n[r].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)a(l[t]);return a}({1:[function(t,e,r){function o(t,e){this._totalInertionEnergy=0,this._totalInertionFrames=1,this._inertiaX=0,this._inertiaY=0,this._inertiaSpeed=e,this._lastInertionsPoints=[],this._pointsToCheckImpulse=4,this._aggregator=t}var s=o.prototype;s.reset=function(){this._totalInertionEnergy=0,this._totalInertionFrames=1},s.addMovePoints=function(t,e){return this._lastInertionsPoints.push({x:t,y:e})>this._pointsToCheckImpulse&&this._lastInertionsPoints.shift(),this},s._clearMovePoints=function(){return this._lastInertionsPoints.length=0,this},s.inertionMove=function(){if(1500<this._totalInertionEnergy){var t=this;this._aggregator._$scrolledWrapper.addClass("scrollDraggable-inertia-move");var e=this._inertiaX/this._totalInertionFrames;this._totalInertionEnergy-=12*Math.abs(e),this._aggregator.scrollTo("left",this._aggregator.scrollTo("left")+e);var r=this._inertiaY/this._totalInertionFrames;this._totalInertionEnergy-=12*Math.abs(r),this._aggregator.scrollTo("top",this._aggregator.scrollTo("top")+r),this._aggregator.emitEvent({type:"draggableScroll:inertia",data:{leavePower:this._totalInertionEnergy,stepX:e,stepY:r}}),0<this._totalInertionEnergy?(this._totalInertionFrames++,setTimeout(function(){t.inertionMove()},Math.ceil(1e3/60))):(this._breakInertion=!1,this._aggregator._$scrolledWrapper.removeClass("scrollDraggable-inertia-move"))}else this._aggregator._$scrolledWrapper.removeClass("scrollDraggable-inertia-move")},s.startInertionTo=function(t,e){var r=0,o=0;this._lastInertionsPoints.forEach(function(t){r+=t.x,o+=t.y}),r/=this._lastInertionsPoints.length,o/=this._lastInertionsPoints.length,this._clearMovePoints()._setInertion(r,o,t,e).inertionMove()},s._setInertion=function(t,e,r,o){return this._inertiaX=60*(t-r),this._inertiaY=60*(e-o),this._totalInertionEnergy=Math.abs(this._inertiaX)+Math.abs(this._inertiaY),this._totalInertionFrames=this._inertiaSpeed,this},e.exports=o},{}],2:[function(t,e,r){var o=t("./draggable-scroll_inertion");$.fn.draggableScroll=function t(e){if(!(this instanceof t))return(e=t._validateConfig(e)).$element=this,new t(e);this._config=e,this._$scrolledElm=this._config.$element,this._pressed=!1,this._isAnimate=!1,this._startScrollX=void 0,this._startScrollY=void 0,this._startMousedownX=void 0,this._startMousedownY=void 0,this._inertia=new o(this,this._config.inertialResistance),this._findElms()._appendStyles()._initListeners()};var s,i,n=$.fn.draggableScroll,l=$.fn.draggableScroll.prototype;n.defaultConfig={scrollX:!0,scrollY:!0,dropOnMouseLeave:!1,animateScrollByControls:!0,animateScrollTime:200,hideScrollbars:!0,inertiaByDragging:!0,detectDirectionDrag:!0,removeDirectionDragOnMouseUp:!0,inertialResistance:150},n._validateConfig=function(t){switch(typeof t){case"object":return $.extend(n.defaultConfig,t);case"undefined":return $.extend(n.defaultConfig,{});default:throw new Error("DraggableScroll: Undefined type of config argument.")}},n._unitsConverters={px:function(t){return t},vw:(i=$(document),function(t){return i.width()/100*t}),vh:(s=$(document),function(t){return s.height()/100*t})},n.addUnitConverter=function(t,e){n._unitsConverters[t]&&console.warn("Converter for "+t+" was changed."),n._unitsConverters[t]=e},n.converterUnitToPxs=function(t,e){var r=n._unitsConverters[e];if(!r)throw new Error('Undefined css units named as: "'+e+'" \n.Add converter ($.fn.draggableScroll.addUnitConverter(unit, convertFunction)) to PXs for that unit, or you have a typo.');return r(t)},l.scrollTo=function(t,e,r){var o,s="scroll"+t.charAt(0).toUpperCase()+t.slice(1);if(void 0!==e)if(r){var i={};i[s]=e,this._$scrolledElm.animate(i,this._config.animateScrollTime,function(){this._isAnimate=!1}.bind(this)),this._isAnimate=!0}else this._$scrolledElm[s](e);else o=this._$scrolledElm[s]();return o},l.emitEvent=function(t){this._$scrolledElm.trigger(t)},l._findElms=function(){if(this._$scrolledWrapper=this._config.$element,this._$scrolledElm=this._config.$element.find("[data-draggable-scroll-content]"),0===this._$scrolledElm.length)throw new Error("DraggableScroll: Cannon find scrolled content element. \n            Use [data-draggable-scrolled-content] inside [data-draggable-scroll] container.");if(1<this._$scrolledElm.length)throw new Error("DraggableScroll: Found more than one [data-draggable-scrolled-content] inside [data-draggable-scroll] container.");return this},l._appendStyles=function(){var t=this._config.hideScrollbars;return this._$scrolledWrapper.css("user-select","none"),t&&this._$scrolledWrapper.css("overflow","hidden"),this._$scrolledElm.css({overflow:"scroll",height:t?"calc(100% + 17px)":"100%",width:t?"calc(100% + 17px)":"100%"}),this},l._removeDirectionsClasses=function(){return this._config.detectDirectionDrag&&this._config.removeDirectionDragOnMouseUp&&this._$scrolledWrapper.removeClass("scroll-draggable_move_left scroll-draggable_move_right scroll-draggable_move_top scroll-draggable_move_bottom"),this},l._toggleDirectionsClasses=function(t,e,r,o){return t<r?this._$scrolledWrapper.addClass("scroll-draggable_move_left").removeClass("scroll-draggable_move_right"):t===r?this._$scrolledWrapper.removeClass("scroll-draggable_move_right scroll-draggable_move_left"):this._$scrolledWrapper.addClass("scroll-draggable_move_right").removeClass("scroll-draggable_move_left"),e<o?this._$scrolledWrapper.addClass("scroll-draggable_move_top").removeClass("scroll-draggable_move_bottom"):e===o?this._$scrolledWrapper.removeClass("scroll-draggable_move_bottom scroll-draggable_move_top"):this._$scrolledWrapper.addClass("scroll-draggable_move_bottom").removeClass("scroll-draggable_move_top"),this},l._initListeners=function(){return this._$scrolledElm.on("mousedown",this.__mousedownHandler.bind(this)).on("mouseup",this.__mouseupHandler.bind(this)).on("mousemove",this.__mousemoveHandler.bind(this)),this._$scrolledWrapper.find("[data-draggable-scroll-control]").on("click",this.__controlsClickHandler.bind(this)),this._config.dropOnMouseLeave&&this._$scrolledElm.on("mouseleave",this.__mouseupHandler.bind(this)),this},l.__mouseupHandler=function(t){this._pressed=!1,this._$scrolledWrapper.removeClass("scrollDraggable-draging"),this._removeDirectionsClasses(),this._inertia.startInertionTo(t.clientX,t.clientY)},l.__mousedownHandler=function(t){this._pressed=!0,this._startMousedownX=t.clientX,this._startMousedownY=t.clientY,this._startScrollX=this.scrollTo("left"),this._startScrollY=this.scrollTo("top"),this._inertia.addMovePoints(t.clientX,t.clientY).reset(),this._$scrolledWrapper.addClass("scrollDraggable-draging")},l.__mousemoveHandler=function(t){var e=this.scrollTo("left"),r=this.scrollTo("top"),o=this._startScrollX+(this._startMousedownX-t.clientX),s=this._startScrollY+(this._startMousedownY-t.clientY);this._pressed&&(this._inertia.addMovePoints(t.clientX,t.clientY),this._config.scrollX&&this.scrollTo("left",o),this._config.scrollY&&this.scrollTo("top",s),this._toggleDirectionsClasses(e,r,o,s))},l.__controlsClickHandler=function(t){if(!this._isAnimate){this._inertia.reset();var e,r=$(t.currentTarget).data("draggableScrollControl").split(":"),o=r[0],s=n.converterUnitToPxs(parseInt(r[1]),r[1].match(/[^\d\.]+/i)[0]);switch(o){case"top":s=0-s,e=this.scrollTo("top");break;case"bottom":e=this.scrollTo("top"),o="top";break;case"left":e=this.scrollTo("left"),s=0-s;break;case"right":o="left",e=this.scrollTo("left")}this.scrollTo(o,e+s,this._config.animateScrollByControls)}};var a=$("[data-draggable-scroll]");a.length&&a.each(function(t,e){$(e).draggableScroll()})},{"./draggable-scroll_inertion":1}]},{},[2]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRyYWdnYWJsZS1zY3JvbGwuanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsIkVycm9yIiwiZiIsImV4cG9ydHMiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIm1vZHVsZSIsIkluZXJ0aWEiLCJhZ2dyZWdhdG9yIiwiaW5lcnRpYVNwZWVkIiwidGhpcyIsIl90b3RhbEluZXJ0aW9uRW5lcmd5IiwiX3RvdGFsSW5lcnRpb25GcmFtZXMiLCJfaW5lcnRpYVgiLCJfaW5lcnRpYVkiLCJfaW5lcnRpYVNwZWVkIiwiX2xhc3RJbmVydGlvbnNQb2ludHMiLCJfcG9pbnRzVG9DaGVja0ltcHVsc2UiLCJfYWdncmVnYXRvciIsInByb3RvdHlwZSIsInJlc2V0IiwiYWRkTW92ZVBvaW50cyIsIngiLCJ5IiwicHVzaCIsInNoaWZ0IiwiX2NsZWFyTW92ZVBvaW50cyIsImluZXJ0aW9uTW92ZSIsInNlbGYiLCJfJHNjcm9sbGVkV3JhcHBlciIsImFkZENsYXNzIiwic3RlcFgiLCJNYXRoIiwiYWJzIiwic2Nyb2xsVG8iLCJzdGVwWSIsImVtaXRFdmVudCIsInR5cGUiLCJkYXRhIiwibGVhdmVQb3dlciIsInNldFRpbWVvdXQiLCJjZWlsIiwiX2JyZWFrSW5lcnRpb24iLCJyZW1vdmVDbGFzcyIsInN0YXJ0SW5lcnRpb25UbyIsIngxIiwieTEiLCJsYXN0WCIsImxhc3RZIiwiZm9yRWFjaCIsInYiLCJfc2V0SW5lcnRpb24iLCJ4MiIsInkyIiwiMiIsIiQiLCJmbiIsImRyYWdnYWJsZVNjcm9sbCIsIkRyYWdnYWJsZVNjcm9sbCIsImNvbmZpZyIsIl92YWxpZGF0ZUNvbmZpZyIsIiRlbGVtZW50IiwiX2NvbmZpZyIsIl8kc2Nyb2xsZWRFbG0iLCJfcHJlc3NlZCIsIl9pc0FuaW1hdGUiLCJfc3RhcnRTY3JvbGxYIiwidW5kZWZpbmVkIiwiX3N0YXJ0U2Nyb2xsWSIsIl9zdGFydE1vdXNlZG93blgiLCJfc3RhcnRNb3VzZWRvd25ZIiwiX2luZXJ0aWEiLCJpbmVydGlhbFJlc2lzdGFuY2UiLCJfZmluZEVsbXMiLCJfYXBwZW5kU3R5bGVzIiwiX2luaXRMaXN0ZW5lcnMiLCIkZG9jIiwic3RhdGljcyIsImRlZmF1bHRDb25maWciLCJzY3JvbGxYIiwic2Nyb2xsWSIsImRyb3BPbk1vdXNlTGVhdmUiLCJhbmltYXRlU2Nyb2xsQnlDb250cm9scyIsImFuaW1hdGVTY3JvbGxUaW1lIiwiaGlkZVNjcm9sbGJhcnMiLCJpbmVydGlhQnlEcmFnZ2luZyIsImRldGVjdERpcmVjdGlvbkRyYWciLCJyZW1vdmVEaXJlY3Rpb25EcmFnT25Nb3VzZVVwIiwiY29uZiIsImV4dGVuZCIsIl91bml0c0NvbnZlcnRlcnMiLCJweCIsImRpZyIsInZ3IiwiZG9jdW1lbnQiLCJ3aWR0aCIsInZoIiwiaGVpZ2h0IiwiYWRkVW5pdENvbnZlcnRlciIsInVuaXQiLCJjb252ZXJ0ZXIiLCJjb25zb2xlIiwid2FybiIsImNvbnZlcnRlclVuaXRUb1B4cyIsInR1cm4iLCJ1bml0cyIsImFuaW0iLCJ2YWwiLCJtZXRob2QiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiYW5pbVBhcmFtIiwiYW5pbWF0ZSIsImJpbmQiLCJldiIsInRyaWdnZXIiLCJmaW5kIiwiaGlkZVNjcm9sbCIsImNzcyIsIm92ZXJmbG93IiwiX3JlbW92ZURpcmVjdGlvbnNDbGFzc2VzIiwiX3RvZ2dsZURpcmVjdGlvbnNDbGFzc2VzIiwicHJldlgiLCJwcmV2WSIsImN1cnJYIiwiY3VyclkiLCJvbiIsIl9fbW91c2Vkb3duSGFuZGxlciIsIl9fbW91c2V1cEhhbmRsZXIiLCJfX21vdXNlbW92ZUhhbmRsZXIiLCJfX2NvbnRyb2xzQ2xpY2tIYW5kbGVyIiwiY2xpZW50WCIsImNsaWVudFkiLCJjdXJyZW50WCIsImN1cnJlbnRZIiwiY3VycmVudFZhbCIsImN1cnJlbnRUYXJnZXQiLCJzcGxpdCIsImRpcmVjdGlvbiIsInN0ZXAiLCJwYXJzZUludCIsIm1hdGNoIiwiJGNv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QUt3QixTQUFTLFFBQzNCMEcsRUFBTyxFQUFJQSxFQUNYLE1BRUosSUFBSyxRQUNERCxFQUFZLE9BQ1pILEVBQWE5SCxLQUFLd0IsU0FBUyxRQUluQ3hCLEtBQUt3QixTQUFTeUcsRUFBV0gsRUFBYUksRUFBTWxJLEtBQUtvRCxRQUFRb0IsMkJBUTdELElBQUk2RCxFQUFjeEYsRUFBRSwyQkFFaEJ3RixFQUFZM0ksUUFDWjJJLEVBQVlDLEtBQUssU0FBVWpKLEVBQUdrSixHQUMxQjFGLEVBQUUwRixHQUFJeEYscUJBR1osQ0FBQ3lGLDhCQUE4QixLQUFLLEdBQUcsQ0FBQyIsImZpbGUiOiJkcmFnZ2FibGUtc2Nyb2xsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuZnVuY3Rpb24gSW5lcnRpYShhZ2dyZWdhdG9yLCBpbmVydGlhU3BlZWQpIHtcbiAgICB0aGlzLl90b3RhbEluZXJ0aW9uRW5lcmd5ID0gMDtcbiAgICB0aGlzLl90b3RhbEluZXJ0aW9uRnJhbWVzID0gMTtcblxuICAgIHRoaXMuX2luZXJ0aWFYID0gMDtcbiAgICB0aGlzLl9pbmVydGlhWSA9IDA7XG4gICAgdGhpcy5faW5lcnRpYVNwZWVkID0gaW5lcnRpYVNwZWVkO1xuICAgIHRoaXMuX2xhc3RJbmVydGlvbnNQb2ludHMgPSBbXTtcbiAgICB0aGlzLl9wb2ludHNUb0NoZWNrSW1wdWxzZSA9IDQ7XG4gICAgdGhpcy5fYWdncmVnYXRvciA9IGFnZ3JlZ2F0b3I7XG59XG5cbnZhciBwcm90b3R5cGUgPSBJbmVydGlhLnByb3RvdHlwZTtcblxuXG5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fdG90YWxJbmVydGlvbkVuZXJneSA9IDA7XG4gICAgdGhpcy5fdG90YWxJbmVydGlvbkZyYW1lcyA9IDE7XG59O1xuXG5wcm90b3R5cGUuYWRkTW92ZVBvaW50cyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgaWYgKHRoaXMuX2xhc3RJbmVydGlvbnNQb2ludHMucHVzaCh7eDogeCwgeTogeX0pID4gdGhpcy5fcG9pbnRzVG9DaGVja0ltcHVsc2UpIHtcbiAgICAgICAgdGhpcy5fbGFzdEluZXJ0aW9uc1BvaW50cy5zaGlmdCgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuXG5wcm90b3R5cGUuX2NsZWFyTW92ZVBvaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl9sYXN0SW5lcnRpb25zUG9pbnRzLmxlbmd0aCA9IDA7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvdHlwZS5pbmVydGlvbk1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuX3RvdGFsSW5lcnRpb25FbmVyZ3kgPiAxNTAwKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICB0aGlzLl9hZ2dyZWdhdG9yXG4gICAgICAgICAgICAuXyRzY3JvbGxlZFdyYXBwZXJcbiAgICAgICAgICAgIC5hZGRDbGFzcygnc2Nyb2xsRHJhZ2dhYmxlLWluZXJ0aWEtbW92ZScpO1xuXG4gICAgICAgIHZhciBzdGVwWCA9IHRoaXMuX2luZXJ0aWFYIC8gdGhpcy5fdG90YWxJbmVydGlvbkZyYW1lcztcbiAgICAgICAgdGhpcy5fdG90YWxJbmVydGlvbkVuZXJneSAtPSBNYXRoLmFicyhzdGVwWCkgKiAxMjtcbiAgICAgICAgdGhpcy5fYWdncmVnYXRvclxuICAgICAgICAgICAgLnNjcm9sbFRvKCdsZWZ0JywgdGhpcy5fYWdncmVnYXRvci5zY3JvbGxUbygnbGVmdCcpICsgc3RlcFgpO1xuXG5cblxuICAgICAgICB2YXIgc3RlcFkgPSB0aGlzLl9pbmVydGlhWSAvIHRoaXMuX3RvdGFsSW5lcnRpb25GcmFtZXM7XG4gICAgICAgIHRoaXMuX3RvdGFsSW5lcnRpb25FbmVyZ3kgLT0gTWF0aC5hYnMoc3RlcFkpICogMTI7XG4gICAgICAgIHRoaXMuX2FnZ3JlZ2F0b3JcbiAgICAgICAgICAgIC5zY3JvbGxUbygndG9wJywgdGhpcy5fYWdncmVnYXRvci5zY3JvbGxUbygndG9wJykgKyBzdGVwWSk7XG5cbiAgICAgICAgdGhpcy5fYWdncmVnYXRvci5lbWl0RXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogJ2RyYWdnYWJsZVNjcm9sbDppbmVydGlhJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBsZWF2ZVBvd2VyOiB0aGlzLl90b3RhbEluZXJ0aW9uRW5lcmd5LFxuICAgICAgICAgICAgICAgIHN0ZXBYOiBzdGVwWCxcbiAgICAgICAgICAgICAgICBzdGVwWTogc3RlcFksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLl90b3RhbEluZXJ0aW9uRW5lcmd5ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fdG90YWxJbmVydGlvbkZyYW1lcysrO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHNlbGYuaW5lcnRpb25Nb3ZlKCk7XG5cbiAgICAgICAgICAgIH0sIE1hdGguY2VpbCgxMDAwIC8gNjApKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYnJlYWtJbmVydGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fYWdncmVnYXRvclxuICAgICAgICAgICAgICAgIC5fJHNjcm9sbGVkV3JhcHBlclxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnc2Nyb2xsRHJhZ2dhYmxlLWluZXJ0aWEtbW92ZScpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYWdncmVnYXRvclxuICAgICAgICAgICAgLl8kc2Nyb2xsZWRXcmFwcGVyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3Njcm9sbERyYWdnYWJsZS1pbmVydGlhLW1vdmUnKTtcbiAgICB9XG59O1xuXG5cbnByb3RvdHlwZS5zdGFydEluZXJ0aW9uVG8gPSBmdW5jdGlvbiAoeDEsIHkxKSB7XG4gICAgdmFyIGxhc3RYID0gMDtcbiAgICB2YXIgbGFzdFkgPSAwO1xuXG4gICAgdGhpcy5fbGFzdEluZXJ0aW9uc1BvaW50c1xuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgbGFzdFggKz0gdi54O1xuICAgICAgICAgICAgbGFzdFkgKz0gdi55O1xuICAgICAgICB9KTtcblxuICAgIGxhc3RYID0gbGFzdFggLyB0aGlzLl9sYXN0SW5lcnRpb25zUG9pbnRzLmxlbmd0aDtcbiAgICBsYXN0WSA9IGxhc3RZIC8gdGhpcy5fbGFzdEluZXJ0aW9uc1BvaW50cy5sZW5ndGg7XG5cbiAgICB0aGlzLl9jbGVhck1vdmVQb2ludHMoKVxuICAgICAgICAuX3NldEluZXJ0aW9uKGxhc3RYLCBsYXN0WSwgeDEsIHkxKVxuICAgICAgICAuaW5lcnRpb25Nb3ZlKCk7XG59O1xuXG5wcm90b3R5cGUuX3NldEluZXJ0aW9uID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgdGhpcy5faW5lcnRpYVggPSAoeDEgLSB4MikgKiA2MDsgLy9wZXIgc2VjXG4gICAgdGhpcy5faW5lcnRpYVkgPSAoeTEgLSB5MikgKiA2MDtcblxuICAgIHRoaXMuX3RvdGFsSW5lcnRpb25FbmVyZ3kgPSBNYXRoLmFicyh0aGlzLl9pbmVydGlhWCkgKyBNYXRoLmFicyh0aGlzLl9pbmVydGlhWSk7XG4gICAgdGhpcy5fdG90YWxJbmVydGlvbkZyYW1lcyA9IHRoaXMuX2luZXJ0aWFTcGVlZDtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IEluZXJ0aWE7XG5cbn0se31dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIEluZXJ0aWEgPSByZXF1aXJlKCcuL2RyYWdnYWJsZS1zY3JvbGxfaW5lcnRpb24nKTtcblxuXG4kLmZuLmRyYWdnYWJsZVNjcm9sbCA9IGZ1bmN0aW9uIERyYWdnYWJsZVNjcm9sbChjb25maWcpIHtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogU2VsZiBjb25zdHJ1Y3QgZnVuY3Rpb24gYnkgalF1ZXJ5IGNhbGxpbmdcbiAgICAgKlxuICAgICAqICovXG5cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRHJhZ2dhYmxlU2Nyb2xsKSkge1xuICAgICAgICBjb25maWcgPSBEcmFnZ2FibGVTY3JvbGwuX3ZhbGlkYXRlQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIGNvbmZpZy4kZWxlbWVudCA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBEcmFnZ2FibGVTY3JvbGwoY29uZmlnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5fJHNjcm9sbGVkRWxtID0gdGhpcy5fY29uZmlnLiRlbGVtZW50O1xuICAgIHRoaXMuX3ByZXNzZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9pc0FuaW1hdGUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogU2Nyb2xsIHBhcmFtczpcbiAgICAgKlxuICAgICAqICovXG5cbiAgICB0aGlzLl9zdGFydFNjcm9sbFggPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fc3RhcnRTY3JvbGxZID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N0YXJ0TW91c2Vkb3duWCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zdGFydE1vdXNlZG93blkgPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEluZXJ0aWEgYnkgZHJhZyBtb3VzZVxuICAgICAqXG4gICAgICogKi9cblxuICAgIHRoaXMuX2luZXJ0aWEgPSBuZXcgSW5lcnRpYSh0aGlzLCB0aGlzLl9jb25maWcuaW5lcnRpYWxSZXNpc3RhbmNlKTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogSW5pdGlhbGl6ZVxuICAgICAqXG4gICAgICogKi9cblxuICAgIHRoaXMuX2ZpbmRFbG1zKClcbiAgICAgICAgLl9hcHBlbmRTdHlsZXMoKVxuICAgICAgICAuX2luaXRMaXN0ZW5lcnMoKTtcbn07XG5cblxudmFyIHN0YXRpY3MgPSAkLmZuLmRyYWdnYWJsZVNjcm9sbDtcbnZhciBwcm90b3R5cGUgPSAkLmZuLmRyYWdnYWJsZVNjcm9sbC5wcm90b3R5cGU7XG5cblxuLyoqXG4gKlxuICpcbiAqIFN0YXRpY3MgbWV0aG9kczpcbiAqXG4gKlxuICogKi9cblxuc3RhdGljcy5kZWZhdWx0Q29uZmlnID0ge1xuICAgIHNjcm9sbFg6IHRydWUsXG4gICAgc2Nyb2xsWTogdHJ1ZSxcbiAgICBkcm9wT25Nb3VzZUxlYXZlOiBmYWxzZSxcbiAgICBhbmltYXRlU2Nyb2xsQnlDb250cm9sczogdHJ1ZSxcbiAgICBhbmltYXRlU2Nyb2xsVGltZTogMjAwLFxuICAgIGhpZGVTY3JvbGxiYXJzOiB0cnVlLFxuICAgIGluZXJ0aWFCeURyYWdnaW5nOiB0cnVlLFxuICAgIGRldGVjdERpcmVjdGlvbkRyYWc6IHRydWUsXG4gICAgcmVtb3ZlRGlyZWN0aW9uRHJhZ09uTW91c2VVcDogdHJ1ZSxcbiAgICBpbmVydGlhbFJlc2lzdGFuY2U6IDE1MFxufTtcblxuXG5zdGF0aWNzLl92YWxpZGF0ZUNvbmZpZyA9IGZ1bmN0aW9uIChjb25mKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgKGNvbmYpKSB7XG4gICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICByZXR1cm4gJC5leHRlbmQoc3RhdGljcy5kZWZhdWx0Q29uZmlnLCBjb25mKTtcbiAgICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgICAgIHJldHVybiAkLmV4dGVuZChzdGF0aWNzLmRlZmF1bHRDb25maWcsIHt9KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRHJhZ2dhYmxlU2Nyb2xsOiBVbmRlZmluZWQgdHlwZSBvZiBjb25maWcgYXJndW1lbnQuJyk7XG4gICAgfVxufTtcblxuXG5zdGF0aWNzLl91bml0c0NvbnZlcnRlcnMgPSB7XG4gICAgcHg6IGZ1bmN0aW9uIChkaWcpIHtcbiAgICAgICAgcmV0dXJuIGRpZztcbiAgICB9LFxuICAgIHZ3OiAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGRvYyA9ICQoZG9jdW1lbnQpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZGlnKSB7XG4gICAgICAgICAgICByZXR1cm4gJGRvYy53aWR0aCgpIC8gMTAwICogZGlnO1xuICAgICAgICB9XG4gICAgfSkoKSxcbiAgICB2aDogKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRkb2MgPSAkKGRvY3VtZW50KTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRpZykge1xuICAgICAgICAgICAgcmV0dXJuICRkb2MuaGVpZ2h0KCkgLyAxMDAgKiBkaWc7XG4gICAgICAgIH1cbiAgICB9KSgpXG59O1xuXG5cbnN0YXRpY3MuYWRkVW5pdENvbnZlcnRlciA9IGZ1bmN0aW9uICh1bml0LCBjb252ZXJ0ZXIpIHtcbiAgICBpZiAoc3RhdGljcy5fdW5pdHNDb252ZXJ0ZXJzW3VuaXRdKVxuICAgICAgICBjb25zb2xlLndhcm4oJ0NvbnZlcnRlciBmb3IgJyArIHVuaXQgKyAnIHdhcyBjaGFuZ2VkLicpO1xuXG4gICAgc3RhdGljcy5fdW5pdHNDb252ZXJ0ZXJzW3VuaXRdID0gY29udmVydGVyO1xufTtcblxuXG5zdGF0aWNzLmNvbnZlcnRlclVuaXRUb1B4cyA9IGZ1bmN0aW9uIChkaWcsIHVuaXQpIHtcbiAgICB2YXIgY29udmVydGVyID0gc3RhdGljcy5fdW5pdHNDb252ZXJ0ZXJzW3VuaXRdO1xuXG4gICAgaWYgKCFjb252ZXJ0ZXIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5kZWZpbmVkIGNzcyB1bml0cyBuYW1lZCBhczogXCInICsgdW5pdCArICdcIiBcXG5cXC4nICtcbiAgICAgICAgICAgICdBZGQgY29udmVydGVyICgkLmZuLmRyYWdnYWJsZVNjcm9sbC5hZGRVbml0Q29udmVydGVyKHVuaXQsIGNvbnZlcnRGdW5jdGlvbikpIHRvIFBYcyBmb3IgdGhhdCB1bml0LCBvciB5b3UgaGF2ZSBhIHR5cG8uJyk7XG5cbiAgICByZXR1cm4gY29udmVydGVyKGRpZyk7XG59O1xuXG5cbi8qKlxuICpcbiAqXG4gKiBQcm90b3R5cGUgbWV0aG9kczpcbiAqXG4gKlxuICogKi9cblxucHJvdG90eXBlLnNjcm9sbFRvID0gZnVuY3Rpb24gKHR1cm4sIHVuaXRzLCBhbmltKSB7XG4gICAgdmFyIG1ldGhvZCA9ICdzY3JvbGwnICsgdHVybi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHR1cm4uc2xpY2UoMSksIHZhbDtcblxuICAgIGlmICh1bml0cyAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgaWYgKGFuaW0pIHtcbiAgICAgICAgICAgIHZhciBhbmltUGFyYW0gPSB7fTtcblxuICAgICAgICAgICAgYW5pbVBhcmFtW21ldGhvZF0gPSB1bml0cztcblxuICAgICAgICAgICAgdGhpcy5fJHNjcm9sbGVkRWxtXG4gICAgICAgICAgICAgICAgLmFuaW1hdGUoYW5pbVBhcmFtLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25maWcuYW5pbWF0ZVNjcm9sbFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzQW5pbWF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICB0aGlzLl9pc0FuaW1hdGUgPSB0cnVlO1xuXG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuXyRzY3JvbGxlZEVsbVttZXRob2RdKHVuaXRzKTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gdGhpcy5fJHNjcm9sbGVkRWxtW21ldGhvZF0oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsO1xufTtcblxuXG5cbnByb3RvdHlwZS5lbWl0RXZlbnQgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICB0aGlzLl8kc2Nyb2xsZWRFbG0udHJpZ2dlcihldik7XG59O1xuXG5wcm90b3R5cGUuX2ZpbmRFbG1zID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuXyRzY3JvbGxlZFdyYXBwZXIgPSB0aGlzLl9jb25maWdcbiAgICAgICAgLiRlbGVtZW50O1xuXG4gICAgdGhpcy5fJHNjcm9sbGVkRWxtID0gdGhpcy5fY29uZmlnXG4gICAgICAgIC4kZWxlbWVudFxuICAgICAgICAuZmluZCgnW2RhdGEtZHJhZ2dhYmxlLXNjcm9sbC1jb250ZW50XScpO1xuXG4gICAgaWYgKHRoaXMuXyRzY3JvbGxlZEVsbS5sZW5ndGggPT09IDApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRHJhZ2dhYmxlU2Nyb2xsOiBDYW5ub24gZmluZCBzY3JvbGxlZCBjb250ZW50IGVsZW1lbnQuIFxcblxcXG4gICAgICAgICAgICBVc2UgW2RhdGEtZHJhZ2dhYmxlLXNjcm9sbGVkLWNvbnRlbnRdIGluc2lkZSBbZGF0YS1kcmFnZ2FibGUtc2Nyb2xsXSBjb250YWluZXIuJyk7XG5cbiAgICBpZiAodGhpcy5fJHNjcm9sbGVkRWxtLmxlbmd0aCA+IDEpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRHJhZ2dhYmxlU2Nyb2xsOiBGb3VuZCBtb3JlIHRoYW4gb25lIFtkYXRhLWRyYWdnYWJsZS1zY3JvbGxlZC1jb250ZW50XSBpbnNpZGUgW2RhdGEtZHJhZ2dhYmxlLXNjcm9sbF0gY29udGFpbmVyLicpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbnByb3RvdHlwZS5fYXBwZW5kU3R5bGVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBoaWRlU2Nyb2xsID0gdGhpcy5fY29uZmlnXG4gICAgICAgIC5oaWRlU2Nyb2xsYmFycztcblxuICAgIHRoaXMuXyRzY3JvbGxlZFdyYXBwZXJcbiAgICAgICAgLmNzcygndXNlci1zZWxlY3QnLCAnbm9uZScpO1xuXG4gICAgaWYgKGhpZGVTY3JvbGwpIHtcbiAgICAgICAgdGhpcy5fJHNjcm9sbGVkV3JhcHBlclxuICAgICAgICAgICAgLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fJHNjcm9sbGVkRWxtXG4gICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgJ292ZXJmbG93JzogJ3Njcm9sbCcsXG4gICAgICAgICAgICAnaGVpZ2h0JzogaGlkZVNjcm9sbCA/ICdjYWxjKDEwMCUgKyAxN3B4KScgOiAnMTAwJScsXG4gICAgICAgICAgICAnd2lkdGgnOiBoaWRlU2Nyb2xsID8gJ2NhbGMoMTAwJSArIDE3cHgpJyA6ICcxMDAlJyxcbiAgICAgICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cblxucHJvdG90eXBlLl9yZW1vdmVEaXJlY3Rpb25zQ2xhc3NlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5fY29uZmlnLmRldGVjdERpcmVjdGlvbkRyYWcgJiYgdGhpcy5fY29uZmlnLnJlbW92ZURpcmVjdGlvbkRyYWdPbk1vdXNlVXApIHtcbiAgICAgICAgdGhpcy5fJHNjcm9sbGVkV3JhcHBlclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzY3JvbGwtZHJhZ2dhYmxlX21vdmVfbGVmdCBzY3JvbGwtZHJhZ2dhYmxlX21vdmVfcmlnaHQgc2Nyb2xsLWRyYWdnYWJsZV9tb3ZlX3RvcCBzY3JvbGwtZHJhZ2dhYmxlX21vdmVfYm90dG9tJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbnByb3RvdHlwZS5fdG9nZ2xlRGlyZWN0aW9uc0NsYXNzZXMgPSBmdW5jdGlvbiAocHJldlgsIHByZXZZLCBjdXJyWCwgY3VyclkpIHtcblxuICAgIGlmICggcHJldlggPCBjdXJyWCApIHtcbiAgICAgICAgdGhpcy5fJHNjcm9sbGVkV3JhcHBlclxuICAgICAgICAgICAgLmFkZENsYXNzKCdzY3JvbGwtZHJhZ2dhYmxlX21vdmVfbGVmdCcpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1kcmFnZ2FibGVfbW92ZV9yaWdodCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcmV2WCA9PT0gY3VyclgpIHtcbiAgICAgICAgICAgIHRoaXMuXyRzY3JvbGxlZFdyYXBwZXJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1kcmFnZ2FibGVfbW92ZV9yaWdodCBzY3JvbGwtZHJhZ2dhYmxlX21vdmVfbGVmdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fJHNjcm9sbGVkV3JhcHBlclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnc2Nyb2xsLWRyYWdnYWJsZV9tb3ZlX3JpZ2h0JylcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1kcmFnZ2FibGVfbW92ZV9sZWZ0Jyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIHByZXZZIDwgY3VyclkgKSB7XG4gICAgICAgIHRoaXMuXyRzY3JvbGxlZFdyYXBwZXJcbiAgICAgICAgICAgIC5hZGRDbGFzcygnc2Nyb2xsLWRyYWdnYWJsZV9tb3ZlX3RvcCcpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3Njcm9sbC1kcmFnZ2FibGVfbW92ZV9ib3R0b20nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJldlkgPT09IGN1cnJZKSB7XG4gICAgICAgICAgICB0aGlzLl8kc2Nyb2xsZWRXcmFwcGVyXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdzY3JvbGwtZHJhZ2dhYmxlX21vdmVfYm90dG9tIHNjcm9sbC1kcmFnZ2FibGVfbW92ZV90b3AnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuXyRzY3JvbGxlZFdyYXBwZXJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3Njcm9sbC1kcmFnZ2FibGVfbW92ZV9ib3R0b20nKVxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnc2Nyb2xsLWRyYWdnYWJsZV9tb3ZlX3RvcCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbnByb3RvdHlwZS5faW5pdExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLl8kc2Nyb2xsZWRFbG1cbiAgICAgICAgLm9uKCdtb3VzZWRvd24nLCB0aGlzLl9fbW91c2Vkb3duSGFuZGxlci5iaW5kKHRoaXMpKVxuICAgICAgICAub24oJ21vdXNldXAnLCB0aGlzLl9fbW91c2V1cEhhbmRsZXIuYmluZCh0aGlzKSlcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCB0aGlzLl9fbW91c2Vtb3ZlSGFuZGxlci5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuXyRzY3JvbGxlZFdyYXBwZXJcbiAgICAgICAgLmZpbmQoJ1tkYXRhLWRyYWdnYWJsZS1zY3JvbGwtY29udHJvbF0nKVxuICAgICAgICAub24oJ2NsaWNrJywgdGhpcy5fX2NvbnRyb2xzQ2xpY2tIYW5kbGVyLmJpbmQodGhpcykpO1xuXG4gICAgaWYgKHRoaXMuX2NvbmZpZy5kcm9wT25Nb3VzZUxlYXZlKSB7XG4gICAgICAgIHRoaXMuXyRzY3JvbGxlZEVsbVxuICAgICAgICAgICAgLm9uKCdtb3VzZWxlYXZlJywgdGhpcy5fX21vdXNldXBIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuXG4vKipcbiAqXG4gKlxuICogVW5iaW5kIHByb3RvdHlwZSBtZXRob2RzKGV2ZW50LWhhbmRsZXJzKTpcbiAqXG4gKlxuICogKi9cblxucHJvdG90eXBlLl9fbW91c2V1cEhhbmRsZXIgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICB0aGlzLl9wcmVzc2VkID0gZmFsc2U7XG4gICAgdGhpcy5fJHNjcm9sbGVkV3JhcHBlclxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ3Njcm9sbERyYWdnYWJsZS1kcmFnaW5nJyk7XG5cbiAgICB0aGlzLl9yZW1vdmVEaXJlY3Rpb25zQ2xhc3NlcygpO1xuXG4gICAgdGhpcy5faW5lcnRpYVxuICAgICAgICAuc3RhcnRJbmVydGlvblRvKGV2LmNsaWVudFgsIGV2LmNsaWVudFkpO1xufTtcblxuXG5wcm90b3R5cGUuX19tb3VzZWRvd25IYW5kbGVyID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgdGhpcy5fcHJlc3NlZCA9IHRydWU7XG4gICAgdGhpcy5fc3RhcnRNb3VzZWRvd25YID0gZXYuY2xpZW50WDtcbiAgICB0aGlzLl9zdGFydE1vdXNlZG93blkgPSBldi5jbGllbnRZO1xuICAgIHRoaXMuX3N0YXJ0U2Nyb2xsWCA9IHRoaXMuc2Nyb2xsVG8oJ2xlZnQnKTtcbiAgICB0aGlzLl9zdGFydFNjcm9sbFkgPSB0aGlzLnNjcm9sbFRvKCd0b3AnKTtcblxuICAgIHRoaXMuX2luZXJ0aWFcbiAgICAgICAgLmFkZE1vdmVQb2ludHMoZXYuY2xpZW50WCwgZXYuY2xpZW50WSlcbiAgICAgICAgLnJlc2V0KCk7XG5cbiAgICB0aGlzLl8kc2Nyb2xsZWRXcmFwcGVyLmFkZENsYXNzKCdzY3JvbGxEcmFnZ2FibGUtZHJhZ2luZycpO1xufTtcblxuXG5wcm90b3R5cGUuX19tb3VzZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24gKGV2KSB7XG5cbiAgICB2YXIgcHJldlggPSB0aGlzLnNjcm9sbFRvKCdsZWZ0JyksXG4gICAgICAgIHByZXZZID0gdGhpcy5zY3JvbGxUbygndG9wJyksXG4gICAgICAgIGN1cnJlbnRYID0gdGhpcy5fc3RhcnRTY3JvbGxYICsgKHRoaXMuX3N0YXJ0TW91c2Vkb3duWCAtIGV2LmNsaWVudFgpLFxuICAgICAgICBjdXJyZW50WSA9IHRoaXMuX3N0YXJ0U2Nyb2xsWSArICh0aGlzLl9zdGFydE1vdXNlZG93blkgLSBldi5jbGllbnRZKTtcblxuICAgIGlmICh0aGlzLl9wcmVzc2VkKSB7XG5cbiAgICAgICAgdGhpcy5faW5lcnRpYVxuICAgICAgICAgICAgLmFkZE1vdmVQb2ludHMoZXYuY2xpZW50WCwgZXYuY2xpZW50WSk7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnLnNjcm9sbFhcbiAgICAgICAgJiYgdGhpcy5zY3JvbGxUbygnbGVmdCcsIGN1cnJlbnRYKTtcblxuICAgICAgICB0aGlzLl9jb25maWcuc2Nyb2xsWVxuICAgICAgICAmJiB0aGlzLnNjcm9sbFRvKCd0b3AnLCBjdXJyZW50WSk7XG5cbiAgICAgICAgdGhpcy5fdG9nZ2xlRGlyZWN0aW9uc0NsYXNzZXMocHJldlgsIHByZXZZLCBjdXJyZW50WCwgY3VycmVudFkpO1xuICAgIH1cbn07XG5cblxucHJvdG90eXBlLl9fY29udHJvbHNDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZXYpIHtcblxuICAgIGlmICh0aGlzLl9pc0FuaW1hdGUpXG4gICAgICAgIHJldHVybjtcblxuICAgIHRoaXMuX2luZXJ0aWEucmVzZXQoKTtcblxuICAgIHZhciAkdGFyZ2V0ID0gJChldi5jdXJyZW50VGFyZ2V0KSxcbiAgICAgICAgZGF0YSA9ICR0YXJnZXQuZGF0YSgnZHJhZ2dhYmxlU2Nyb2xsQ29udHJvbCcpLnNwbGl0KCc6JyksXG4gICAgICAgIGRpcmVjdGlvbiA9IGRhdGFbMF0sXG4gICAgICAgIHN0ZXAgPSBzdGF0aWNzLmNvbnZlcnRlclVuaXRUb1B4cyhwYXJzZUludChkYXRhWzFdKSwgZGF0YVsxXS5tYXRjaCgvW15cXGRcXC5dKy9pKVswXSksXG4gICAgICAgIGN1cnJlbnRWYWw7XG5cbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgc3RlcCA9IDAgLSBzdGVwO1xuICAgICAgICAgICAgY3VycmVudFZhbCA9IHRoaXMuc2Nyb2xsVG8oJ3RvcCcpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgIGN1cnJlbnRWYWwgPSB0aGlzLnNjcm9sbFRvKCd0b3AnKTtcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9ICd0b3AnO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICBjdXJyZW50VmFsID0gdGhpcy5zY3JvbGxUbygnbGVmdCcpO1xuICAgICAgICAgICAgc3RlcCA9IDAgLSBzdGVwO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xuICAgICAgICAgICAgY3VycmVudFZhbCA9IHRoaXMuc2Nyb2xsVG8oJ2xlZnQnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHRoaXMuc2Nyb2xsVG8oZGlyZWN0aW9uLCBjdXJyZW50VmFsICsgc3RlcCwgdGhpcy5fY29uZmlnLmFuaW1hdGVTY3JvbGxCeUNvbnRyb2xzKTtcbn07XG5cblxuLyoqXG4gKiBBdXRvLXNlYXJjaCBmb3IgZWxlbWVudHMgYnkgYXR0cmlidXRlXG4gKiAqL1xuXG52YXIgJGNvbnRhaW5lcnMgPSAkKCdbZGF0YS1kcmFnZ2FibGUtc2Nyb2xsXScpO1xuXG5pZiAoJGNvbnRhaW5lcnMubGVuZ3RoKSB7XG4gICAgJGNvbnRhaW5lcnMuZWFjaChmdW5jdGlvbiAoaSwgZWwpIHtcbiAgICAgICAgJChlbCkuZHJhZ2dhYmxlU2Nyb2xsKCk7XG4gICAgfSk7XG59XG59LHtcIi4vZHJhZ2dhYmxlLXNjcm9sbF9pbmVydGlvblwiOjF9XX0se30sWzJdKSJdfQ==
